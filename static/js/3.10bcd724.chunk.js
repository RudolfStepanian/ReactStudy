(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{288:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var a=n(50),r=n(51),o=n(52),s=n(53),u=n(28),c=n(0),i=n.n(c),l=n(18),p=function(t){return{isAuth:t.auth.isAuth}},f=function(t){var e=function(e){Object(s.a)(c,e);var n=Object(o.a)(c);function c(){return Object(a.a)(this,c),n.apply(this,arguments)}return Object(r.a)(c,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(t,this.props):i.a.createElement(u.a,{to:"/login"})}}]),c}(i.a.Component);return Object(l.b)(p)(e)}},289:function(t,e,n){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3mdkt"}},290:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(94);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,r=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(a=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);a=!0);}catch(c){r=!0,o=c}finally{try{a||null==u.return||u.return()}finally{if(r)throw o}}return n}}(t,e)||Object(a.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},294:function(t,e,n){t.exports={postsBlock:"MyPosts_postsBlock__GFcIm",posts:"MyPosts_posts__3STay"}},295:function(t,e,n){t.exports={item:"Post_item__2n0Vr"}},296:function(t,e,n){"use strict";n.r(e);var a=n(50),r=n(51),o=n(52),s=n(53),u=n(0),c=n.n(u),i=n(289),l=n.n(i),p=n(54),f=(c.a.Component,n(290)),m=function(t){var e=Object(u.useState)(!1),n=Object(f.a)(e,2),a=n[0],r=n[1],o=Object(u.useState)(t.status),s=Object(f.a)(o,2),i=s[0],l=s[1];Object(u.useEffect)((function(){l(t.status)}),[t.status]);return c.a.createElement("div",null,!a&&c.a.createElement("div",null,c.a.createElement("span",{onDoubleClick:function(){r(!0)}},i||"-----")),a&&c.a.createElement("div",null,c.a.createElement("input",{autoFocus:!0,value:i,onBlur:function(){r(!1),t.updateStatus(i)},onChange:function(t){l(t.currentTarget.value)}})))},d=function(t){return t.profile?c.a.createElement("div",null,c.a.createElement("div",{className:l.a.descriptionBlock},c.a.createElement("img",{src:t.profile.photos.large,alt:""}),c.a.createElement(m,{updateStatus:t.updateStatus,status:t.status}))):c.a.createElement(p.a,null)},b=n(93),h=n(32),v=n(294),E=n.n(v),j=n(295),y=n.n(j),g=function(t){return c.a.createElement("div",{className:y.a.item},c.a.createElement("img",{src:"https://image.shutterstock.com/image-photo/beautiful-water-drop-on-dandelion-260nw-789676552.jpg"}),t.message,c.a.createElement("div",null,c.a.createElement("span",null,"like")," ",t.likeCount))},O=n(87),S=n(127),P=n(55),k=n(33),w=c.a.memo((function(t){console.log("RENDER");c.a.createRef();var e=Object(h.a)(t.posts).reverse().map((function(t){return c.a.createElement(g,{message:t.message,likeCount:t.likeCount})}));return c.a.createElement("div",{className:E.a.postsBlock},c.a.createElement("h3",null,"My posts"),c.a.createElement("div",null,c.a.createElement(C,{onSubmit:function(e){t.addPost(e.newPostBody)}})),c.a.createElement("div",{className:E.a.posts},e))})),_=Object(P.a)(10),B=Object(P.b)(2),C=Object(S.a)({form:"post"})((function(t){return c.a.createElement("form",{onSubmit:t.handleSubmit},c.a.createElement(O.a,{component:k.b,name:"newPostBody",placeholder:"New post",validate:[P.c,_,B]}),c.a.createElement("div",null,c.a.createElement("button",null,"Add post")))})),I=w,A=n(18),x=Object(A.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(b.a)(e))}}}))(I),N=function(t){return c.a.createElement("div",null,c.a.createElement(d,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),c.a.createElement(x,{store:t.store}))},T=n(28),M=(n(288),n(7)),D=function(t){Object(s.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).componentDidMount=function(){var e=t.props.match.params.userId;e||(e=t.props.userId)||t.props.history.push("/login"),t.props.getUserProfile(e),t.props.getStatus(e)},t}return Object(r.a)(n,[{key:"render",value:function(){return c.a.createElement(N,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(c.a.Component);e.default=Object(M.d)(Object(A.b)((function(t){return{posts:t.profilePage.posts,profile:t.profilePage.profile,userId:t.auth.userId,status:t.profilePage.status}}),{setUserProfile:b.e,getUserProfile:b.d,getStatus:b.c,updateStatus:b.f}),T.f)(D)}}]);
//# sourceMappingURL=3.10bcd724.chunk.js.map